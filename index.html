<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="https://raw.githubusercontent.com/supreme-chocomint/bandori-valence/master/favicon/favicon-original.png" />
  <title>Bandori Valence</title>

  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="manifest" href="favicon/site.webmanifest">
  <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css">
  <link rel="stylesheet" href="css/index.css">

  <link href="https://fonts.googleapis.com/css2?family=Lato&family=Noto+Sans+JP&family=Inter&display=swap"
    rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/chart.js@2/dist/Chart.min.js"></script>
  <script defer src="js/data.js"></script>
  <script defer src="js/charting.js"></script>
  <script defer src="js/song-card.js"></script>
  <script defer src="js/listeners.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

  <script>
    (function (e, t, n, i, s, a, c) {
      e[n] = e[n] || function () { (e[n].q = e[n].q || []).push(arguments) }
        ; a = t.createElement(i); c = t.getElementsByTagName(i)[0]; a.async = true; a.src = s
        ; c.parentNode.insertBefore(a, c)
    })(window, document, "galite", "script", "https://cdn.jsdelivr.net/npm/ga-lite@2/dist/ga-lite.min.js");

    galite('create', 'UA-165670650-2', 'auto');
    galite('send', 'pageview');
  </script>

</head>

<body>
  <section class="section">
    <div class="container">

      <div class="columns is-vcentered">
        <div class="column">
          <h1 class="title">
            Bandori Valence
          </h1>
          <p class="subtitle">
            Visualizing the happiest and saddest BanG Dream songs
            <a id="launch-help-modal" tabindex="0">
              [?]
            </a>
          </p>
        </div>
        <div class="column is-narrow is-paddingless-vertical">
          <span class="tag is-dark valence-chart-focus is-hidden">
            Keyboard Nav On
          </span>
        </div>
        <div class="column is-narrow">
          <button id="sorter" class="button is-info" data-state="0">Sort By Valence</button>
        </div>
      </div>

      <noscript>
        <p>
          JavaScript is required for visualization: please enable it.
        </p>
      </noscript>

      <div id="valence-chart-wrapper" class="container">
        <canvas id="valence-chart" tabindex="0"></canvas>
      </div>

      <div class="columns is-centered">
        <div class="column is-half">
          <div id="song-card" class="card" style="display:none;">
            <div class="card-content">
              <div class="columns is-mobile">

                <div class="column">
                  <p class="title is-4"></p>
                  <p class="subtitle is-6"></p>
                  <p>
                    <span class="has-text-weight-semibold">Valence: </span><span class="valence-value"></span><br>
                    <span class="has-text-weight-semibold">Danceability: </span><span
                      class="danceability-value"></span><br>
                    <span class="has-text-weight-semibold">Energy: </span><span class="energy-value"></span><br>
                  </p>
                </div>

                <div class="column is-narrow has-clickables-vertical">
                  <a rel="noreferrer" target="_blank" class="icon is-large inherit-color">
                    <i class="fab fa-3x fa-spotify"></i>
                  </a>
                  <div class="navigation has-background-info has-text-light">
                    <span class="icon is-medium clickable navigation-left">
                      <i class="fas fa-lg fa-chevron-left"></i>
                    </span>
                    <span class="icon is-medium clickable navigation-right">
                      <i class="fas fa-lg fa-chevron-right"></i>
                    </span>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <div id="help-modal" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title">Help / FAQ</p>
        <button class="delete" aria-label="close"></button>
      </header>
      <section class="modal-card-body">
        <div class="content">

          <h4>
            What is Valence?
          </h4>
          <p>
            Valence is how positive (happy, cheery, etc) a song sounds.
          </p>
          <p>
            Every song on Spotify has a predicted valence value, which is presumably calculated using machine learning.
            Valence ranges from 0 to 1, where 0 is a very negative-sounding song and 1 is a very positive-sounding song.
          </p>

          <h4>
            Other Definitions
          </h4>
          <ul>
            <li>
              <strong>Danceability:</strong> how suitable a song is for dancing. Based on tempo, rhythm regularity, and
              beat strength. 0 is least suitable, 1 is most suitable.
            </li>
            <li>
              <strong>Energy:</strong> the intensity, loudness, and activeness of a song. 0 is low energy, 1 is high
              energy.
            </li>
          </ul>

          <h4>
            Usage Tips
          </h4>
          <p>
            Activate keyboard navigation anywhere with the <strong>period</strong> key, and deactivated it with the
            <strong>comma</strong> key (clicking inside/outside the chart also works). The <strong>h</strong> key also
            shows/hides this help popup.
          </p>
          <p>
            Controls For Keyboard Navigation:
          <ul>
            <li>
              <strong>Left</strong> and <strong>right</strong> - move between songs
            </li>
            <li>
              <strong>Space</strong> - toggle sort
            </li>
            <li>
              <strong>Enter</strong> - focus on band of highlighted song, and show song info
            </li>
            <li>
              <strong>ESC</strong> or <strong>\</strong> - de-focus band
            </li>
          </ul>
          </p>

          <h4>
            Why Are Some Songs Missing?
          </h4>
          <p>
            Valence data doesn't exist for songs not released on Spotify. This includes all cover songs.
          </p>
          <p>
            Furthermore, only songs from the 7 main bands are included, to keep the data more manageable and
            focused.
          </p>

          <h4>
            Further Reading
          </h4>
          <p>
            More details about measures and other audio features can be found on <a rel="noreferrer" target="_blank"
              href="https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/">Spotify's
              API documentation</a>. Source code for tool and data is available on <a target="_blank"
              href="https://github.com/supreme-chocomint/bandori-valence">Github</a>. Bug reports are appreciated.
          </p>

        </div>
      </section>

    </div>
  </div>

</body>

</html>